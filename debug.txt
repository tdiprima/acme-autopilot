~/scripts/acme$ sudo ./debug_acme_issue.sh 
ğŸ” Debugging ACME certificate issue for <URL>

1ï¸âƒ£ Checking DNS resolution...
   Domain <URL> resolves to: <URL>.
<IP_ADDRESS>
   This server's public IP: <IP_ADDRESS>
   âŒ DNS mismatch! Domain doesn't point to this server.
   ğŸ”§ Fix: Update your DNS A record to point to <IP_ADDRESS>

2ï¸âƒ£ Checking web server...
   âœ… Apache2 is running

3ï¸âƒ£ Checking port 80 accessibility...
   âœ… Something is listening on port 80
   âœ… HTTP request to <URL> successful

4ï¸âƒ£ Checking webroot directory...
   âœ… Webroot /var/www/html exists
   âœ… Webroot is writable
   âœ… Can create challenge files

5ï¸âƒ£ Checking firewall...
   UFW Status: Status: active
   âœ… Port 80 allowed in UFW
   âš ï¸  Port 80 rules unclear in iptables

6ï¸âƒ£ Recent ACME logs...
   âŒ No ACME log file found

ğŸ¯ Recommended next steps:

1. ğŸŒ Fix DNS: Point <URL> to <IP_ADDRESS>
2. â³ Wait for DNS propagation (can take up to 48 hours)
3. ğŸ”„ Retry certificate request

ğŸ”§ Quick fixes to try:
   â€¢ Restart web server: systemctl restart apache2
   â€¢ Open firewall: ufw allow 80/tcp && ufw allow 443/tcp
   â€¢ Check permissions: chmod -R 755 /var/www/html
   â€¢ Test manually: curl -I http://<URL>/
