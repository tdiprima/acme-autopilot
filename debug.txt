~/scripts/acme$ sudo ./debug_acme_issue.sh 
🔍 Debugging ACME certificate issue for <URL>

1️⃣ Checking DNS resolution...
   Domain <URL> resolves to: <URL>.
<IP_ADDRESS>
   This server's public IP: <IP_ADDRESS>
   ❌ DNS mismatch! Domain doesn't point to this server.
   🔧 Fix: Update your DNS A record to point to <IP_ADDRESS>

2️⃣ Checking web server...
   ✅ Apache2 is running

3️⃣ Checking port 80 accessibility...
   ✅ Something is listening on port 80
   ✅ HTTP request to <URL> successful

4️⃣ Checking webroot directory...
   ✅ Webroot /var/www/html exists
   ✅ Webroot is writable
   ✅ Can create challenge files

5️⃣ Checking firewall...
   UFW Status: Status: active
   ✅ Port 80 allowed in UFW
   ⚠️  Port 80 rules unclear in iptables

6️⃣ Recent ACME logs...
   ❌ No ACME log file found

🎯 Recommended next steps:

1. 🌐 Fix DNS: Point <URL> to <IP_ADDRESS>
2. ⏳ Wait for DNS propagation (can take up to 48 hours)
3. 🔄 Retry certificate request

🔧 Quick fixes to try:
   • Restart web server: systemctl restart apache2
   • Open firewall: ufw allow 80/tcp && ufw allow 443/tcp
   • Check permissions: chmod -R 755 /var/www/html
   • Test manually: curl -I http://<URL>/
